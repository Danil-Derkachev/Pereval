## Описание проекта

Rest API для мобильного приложения, пользователями которого будут туристы.
В горах они будут вносить данные о перевале в приложение и отправлять их в ФСТР
(Федерация спортивного туризма России), как только появится доступ в Интернет.

## Установка

1. Клонируйте репозиторий:

```bash
git clone https://github.com/Danil-Derkachev/Pereval.git
```

2. Установите необходимые зависимости:

```bash
pip install -r requirements.txt
```

3. Создайте файл `.env` в корневой директории проекта и добавьте следующие переменные окружения:

```
FSTR_DB_NAME = имя базы данных postgres
FSTR_DB_USER = имя пользователя postgres
FSTR_DB_PASSWORD = пароль postgres
FSTR_DB_HOST = ваш хост postgres
FSTR_DB_PORT = порт postgres
```

## Работа проекта

### Внесение личной информации.

Для отправки информации туристу необходимо будет заполнить данные о себе (регистрация не требуется):

1. Фамилия
2. Имя
3. Отчество
4. Электронная почта
5. Номер телефона

### Внесение информации о горном перевале.

Для отправки информации о горном перевале, туристу необходимо будет также заполнить несколько полей:

1. Название горного перевала
2. Альтернативное название горного перевала
3. Произвольный текст ввиде комментария
4. Координаты горного перевала
5. Сложность восхождения (в зависимости от времени года)

### Обработка информации.

Модератор из федерации будет верифицировать и вносить в базу данных информацию, полученную от пользователей,
а те в свою очередь смогут увидеть в мобильном приложении статус модерации.

## Таблица точек доступа API:

| Метод   | Эндпоинт                      | Описание                                        |
|---------|-------------------------------|-------------------------------------------------|
| `POST`  | `/submitData/create`          | Отправить данные для создания записи о перевале |
| `GET`   | `/submitData/<str:email>`     | Получить все записи по email пользователя       |
| `GET`   | `/submitData/<int:pk>`        | Получить запись по первичному ключу             |
| `PATCH` | `/submitData/<int:pk>/update` | Редактировать запись, если она в статусе 'new'  |

## Пример JSON для создания записи:

    {
        "beauty_title": "пер. ",
        "title": "Пхия",
        "other_titles": "Триев",
        "connect": "текст",
        "level_winter": "",
        "level_summer": "1А",
        "level_autumn": "1А",
        "level_spring": ""
        "user": {
            "email": "example@mail.ru",
            "phone": "89895268989",
            "surname": "Doe",
            "name": "John",
            "patronym": "Johnson"
        },
        "coords": {
            "latitude": "1234.1142323",
            "longitude": "1232.332342",
            "height": "1000"
        },
        "images": [],
    }
